Vagrant::Config.run do |config|
  <%= config_vm_box_name %>
  <%= config_vm_box_url %>
  # Boot with a GUI so you can see the screen. (Default is headless)
  # config.vm.boot_mode = :gui

  <%= config_network %>

  <%= config_portmapping %>

  <%= config_share_folders %>

  config.vm.provision :chef_client do |chef|
    #todo configure chef server url an pem file dynamically via app configuration!
    chef.chef_server_url = "<%= APP_CONFIG[:chef]['chef_server_url'] %>"
    #chef.validation_key_path = "ORGNAME-validator.pem"
    <%= config_recipes %>
  end

  <%=  config_additional_configurations %>

end
