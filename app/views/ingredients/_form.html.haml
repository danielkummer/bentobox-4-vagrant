= form_for @ingredient, html:{class: "form-horizontal"} do |f|
  -if @ingredient.errors.any?
    #error_explanation
      %h2= "#{pluralize(@ingredient.errors.count, "error")} prohibited this ingredient from being saved:"
      %ul
        - @ingredient.errors.full_messages.each do |msg|
          %li= msg

  .fieldset
    %legend Ingredient
  .control-group
    = f.label :name, class: "control-label"
    .controls
      = f.text_field :name
  .control-group
    = f.label :cookbooks, class: "control-label"
    .controls
      = f.text_field :cookbooks

  .control-group
    = f.label :network_config, class: "control-label"
    .controls
      = f.text_field :network_config, :value => ':hostonly, "33.33.33.10"'

  .control-group
    = f.label :category, class: "control-label"
    .controls
      = f.collection_select(:category, Category.all, :id, :name, :prompt => true)


  .control-group
    .controls
      = f.fields_for :portmappings do |builder|
        = render 'portmapping_fields', f: builder
      = link_to_add_fields "add portmapping", f, :portmappings


  .control-group
    .controls
      = f.fields_for :share_folders do |builder|
        = render 'share_folder_fields', f: builder
      = link_to_add_fields "add share folder path", f, :share_folders

  .form-actions
    = f.submit 'Save', class: "btn btn-success"
    = link_to 'Back', bentoboxes_path, class: "btn"
