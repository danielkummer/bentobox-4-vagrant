= form_for @ingredient, html:{class: "form-horizontal"} do |f|
  -if @ingredient.errors.any?
    #error_explanation
      %h2= "#{pluralize(@ingredient.errors.count, "error")} prohibited this ingredient from being saved:"
      %ul
        - @ingredient.errors.full_messages.each do |msg|
          %li= msg

  .fieldset
    %legend overall information
    .control-group
      = f.label :name, class: "control-label"
      .controls
        = f.text_field :name, class: "input-medium"
    .control-group
      = f.label :category, class: "control-label"
      .controls
        = f.collection_select(:category, Category.all, :id, :name, :prompt => true)
  .fieldset
    %legend recepies and cookbooks
    .control-group
      = f.label :cookbooks, class: "control-label"
      .controls
        = f.text_field :cookbooks, class: "input-xlarge", placeholder: "apache22, mysql, ..."

  .fieldset
    %legend network configuration
    .btn-group
      %a.btn.btn-info.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
        Defaults
        %span.caret
      %ul.dropdown-menu
        %li
          %a{'data-type' => 'hostonly', 'data-second-parameter' => '33.33.33.10'} hostonly, 33.33.33.10


    = f.fields_for :networkconfig, @ingredient.networkconfig do |builder|
      = render 'networkconfig_fields', f: builder


  .fieldset
    %legend portmappings
    = f.fields_for :portmappings, html: {class: "form-inline"} do |builder|
      = render 'portmapping_fields', f: builder
    .control-group
      .controls
        = link_to_add_fields "new portmapping", f, :portmappings, "btn"

  .fieldset
    %legend share folders
    = f.fields_for :share_folders do |builder|
      = render 'share_folder_fields', f: builder
    .control-group
      .controls
        = link_to_add_fields "add share folder", f, :share_folders, "btn"

  .form-actions
    = f.submit 'Save', class: "btn btn-success"
    = link_to 'Back', bentoboxes_path, class: "btn"
